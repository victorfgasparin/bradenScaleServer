<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/default.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:my="http://java.sun.com/jsf/composite/components">
    <ui:define name="content">
        <h:form>
        	<rich:collapsiblePanel id="listaPacientes" header="Pacientes" headerClass="header" title="Clique para expandir">
             <h:panelGroup rendered="#{empty allPacientes}">
                <em>Nenhum paciente registrado.</em>
             </h:panelGroup>
	        <rich:dataTable id="memberTable" var="_paciente" value="#{allPacientes}" rendered="#{not empty allPacientes}" style="width : 100%">
	                   <rich:column id="paciente_name">
	                      <f:facet name="header">Nome</f:facet>
	                      #{_paciente.nome}
	                   </rich:column>
	                   <rich:column id="paciente_email">
	                      <f:facet name="header">Email</f:facet>
	                      #{_paciente.email}
	                   </rich:column>
	                   <rich:column id="paciente_phone">
	                      <f:facet name="header">Telefone</f:facet>
	                      #{_paciente.telefone}
	                   </rich:column>
	                   <rich:column id="paciente_prontuario">
	                      <f:facet name="header">Prontuario</f:facet>
	                      #{_paciente.prontuario}
	                   </rich:column>
	                   <rich:column id="paciente_detalhes">
	                      <f:facet name="header">Navegar</f:facet>
		                   <a4j:commandLink styleClass="no-decor" execute="@this" action="#{pacienteController.pacienteGoDetalhe}">
	                         Ver Detalhes
	                         <f:setPropertyActionListener target="#{pacienteController.paciente}" value="#{_paciente}"/>
	                       </a4j:commandLink>
	                   </rich:column>
	                </rich:dataTable>
	          </rich:collapsiblePanel>
         </h:form>
    </ui:define>
</ui:composition>
